2002-07-10  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-utils.[ch] (gedit_utils_uri_exists): new functions

	* gedit-mdi.c (gedit_mdi_remove_child_handler):  Check to see if
        the file has been deleted from the filesystem before closing 
	(fixed bug #75861).

	* gedit-file.c (gedit_file_save): Save the file if it has 
	been deleted from the filesystem ((fixed bug #75861).

2002-07-10  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-prefs-manager.[ch]:
	s/GEDIT_SAVE_CURRENT_LOCALE_WHEN_POSSIBLE/GEDIT_SAVE_CURRENT_LOCALE_IF_POSSIBLE,
	added GEDIT_SAVE_ORIGINAL_FILE_ENCODING_IF_POSSIBLE_NCL description
	
	* dialogs/gedit-preferences-dialog.c: added a "When creating a new file..." 
	frame in the Save page

	* dialogs/gedit-preferences.glade2: ditto

	* gedit-document.c (gedit_save_as_real): when requested	save the 
	file using the original encoding 

2002-07-09  Paolo Maggi  <maggi@athena.polito.it>

	The "Plugin Manager" is now a page in the "Preferences" dialog

	* dialogs/gedit-plugin-manager.h: new file
	* dialogs/gedit-dialog-plugin-manager.c -> gedit-plugin-manager.c

	* dialogs/Makefile.am (libdialogs_a_SOURCES): added 
	gedit-plugin-manager.[ch], removed gedit-dialog-plugin-manager.c
	
	* gedit-commands.[ch] (gedit_cmd_tools_plugin_manager): deleted

	* gedit-menus.c (gedit_verbs): removed the PluginsManager entry

	* gedit-ui.xml: removed the "Plugin Manager" menu item

	* dialogs/gedit-dialogs.h (gedit_dialog_plugin_manager): removed

	* dialogs/gedit-preferences-dialog.c: removed unused code, added the 
	"Plugin Manager" page

	* dialogs/gedit-preferences.glade2: cleaned up

	* dialogs/plugin-manager.glade2: cleaned up

2002-07-08  Paolo Maggi  <maggi@athena.polito.it>

	* .cvsignore: Updated

2002-07-08  Paolo Maggi <maggi@athena.polito.it>

	* Makefile.am: create a gnome-text-editor symbolic link
	to gedit
	
	* gedit2.c (main): set the GNOME_PARAM_HUMAN_READABLE_NAME
	paramater to "Text Editor"

2002-07-05  Paolo Maggi <maggi@athena.polito.it>

	Fixed bug #76001

	* bonobo-mdi.[ch]: added a "top_window_destroy"
	signal
	(bonobo_mdi_new)(bonobo_mdi_construct): take the default
	size of the toplevel windows as parameter
	(app_clone): clone the window size and state
	
	* gedit-mdi.c (gedit_mdi_app_destroy_handler): new function for
	saving the size and state if the destroyed window
	(gedit_mdi_app_created_handler): set window size and state

	* gedit-prefs-manager.[ch]: added functions to set and get
	the window size and state

2002-07-04  James Willcox <jwillcox@cs.indiana.edu>

	* gedit-document.c (gedit_document_load):
	Set the GError back to NULL after freeing it.

2002-07-04  James Willcox <jwillcox@cs.indiana.edu>

	* gnome-recent-view-bonobo.c (gnome_recent_view_bonobo_finalize):
	free some stuff when we get finalized.

	* gedit-mdi.c (gedit_mdi_app_created_handler):
	add a GDestroyNotify which unrefs the GnomeRecentView when the
	window is destroyed.

2002-07-04  Paolo Maggi <maggi@athena.polito.it>

	* dialogs/gedit-dialog-replace.c: fixed bug #86333

2002-07-04  Paolo Maggi <maggi@athena.polito.it>

	* gedit-document.c: save used encoding while loading a file,
	try to use "ISO-8859-15" as last resource while loading a file.
	
	* gedit-file.c (gedit_file_save_as): fix bug #87276

	* gedit-prefs-manager.c (GPM_DEFAULT_BACKUP_COPY_EXTENSION): Changed
	the default to ~.  This is also reflected in the new GConf
	schema file.

2002-07-03  Federico Mena Quintero  <federico@ximian.com>

	* gedit-prefs-manager.c (GPM_DEFAULT_CREATE_BACKUP_COPY): Changed
	the default to true.  This is also reflected in the new GConf
	schema file.

2002-07-03  Paolo Maggi <maggi@athena.polito.it>

	* bonobo-mdi.[ch] (bonobo_mdi_get_window_info)
	new method
	(app_clone): set the size of the new window to the
	one of the cloned one
	
2002-07-03  Paolo Maggi <maggi@athena.polito.it>

	* gnome-vfs-helpers.[ch]: removed

	* *.c: s/gnome_vfs_x/eel

2002-06-28  James Willcox  <jwillcox@cs.indiana.edu>

	* dialogs/gedit-dialog-goto-line.c:  Only allow digits in the entry

2002-06-17  Federico Mena Quintero  <federico@ximian.com>

	Fixes #84986.

	* bonobo-mdi.c (gen_role): Moved over from gedit-mdi.c.
	(app_create): Added a "window_role" argument so that we can set up
	the window's role here.
	(app_clone): Likewise.
	(bonobo_mdi_open_toplevel): Likewise.
	(bonobo_mdi_add_toplevel_view): Likewise.

	* bonobo-mdi-session.c (restore_window_child): Pass the role
	argument to bonobo_mdi_add_toplevel_view().
	(restore_window): Pass the role argument to
	bonobo_mdi_open_toplevel().

	* gedit2.c (main): Likewise.

	* gedit-mdi.c (gedit_mdi_app_created_handler): Do not set the role
	here.

2002-06-14  Paolo Maggi <maggi@athena.polito.it>

	* gedit-prefs-manager.[ch]: new files

	* Makefile.am:
	* gedit-commands.c:
	* gedit-document.c:
	* gedit-file.c:
	* gedit-mdi.[ch]:
	* gedit-print.c:
	* gedit-recent.c:
	* gedit-session.c:
	* gedit-undo-manager.c:
	* gedit-view.c:
	* gedit2.c:
	* dialogs/gedit-preferences-dialog.[ch]:
	* dialogs/gedit-preferences.glade2: use gedit-prefs-manager API

2002-06-14  Paolo Maggi <maggi@athena.polito.it>

	* src/gedit-preferences.glade2: fixed a typo

2002-06-11  Federico Mena Quintero  <federico@ximian.com>

	* gedit-mdi.c (gedit_mdi_remove_child_handler):
	gtk_window_present() the confirmation dialog so that the user sees
	it even when shutting down the session.  Fixes #84677.

2002-06-05  Jagadeesh B.G  <jagadeesh.banavara@wipro.com>

	* src/dialogs/gedit-preferences.glade2: Fix some ATK relations.
	Fixes bug #84108.

2002-05-31  Federico Mena Quintero  <federico@ximian.com>

	* Makefile.am (INCLUDES): Patch by Hidetoshi Tajima
	(hidetoshi.tajima@sun.com) to fix the localedir on Solaris.  Fixes
	#83614.

2002-05-30  James Willcox <jwillcox@cs.indiana.edu>

	* bonobo-mdi.c (child_list_menu_add_item):
	Assign keyboard accelerators to items in the "Documents" menu.

2002-05-29  Paolo Maggi <maggi@athena.polito.it>

	* bonobo-mdi-session.c: save and restore window role

	* bonobo-mdi.c (book_button_release): use 
	gtk_window_set_default_size instead of gtk_widget_set_size_request

	* gedit-document.c (gedit_document_replace_selected_text):
	let replace be long zero chars

	*gedit-mdi.c (gen_role): new function
	(gedit_mdi_app_created_handler): set unique window role using gen_role

	* dialogs/gedit-dialog-replace.c: fix bug #83401

2002-05-28  James Willcox <jwillcox@cs.indiana.edu>
 
	* gedit-application-server.[ch], gedit-document-server.[ch],
	gedit-window-server.[ch]: new files, provides an implementation for a
	CORBA interface to gedit.
 
	* gedit2.c: added command line arguments for using the new CORBA
	interface.  Lets you open files, create new windows, etc.

2002-05-27  Paolo Maggi <maggi@athena.polito.it>

	* gedit-file.c (gedit_file_open): display formatted uris
	in the status bar

2002-05-27  Paolo Maggi <maggi@athena.polito.it>

	* gedit-mdi.c (gedit_mdi_set_app_toolbar_style): fixed bug #82877

2002-05-27  James Willcox <jwillcox@cs.indiana.edu>

	* gnome-recent-model.c (gnome_recent_model_delete_from_list):
	Fixed memory leak (Thanks to Gustavo Gir·ldez for the patch)

2002-05-23  Paolo Maggi <maggi@athena.polito.it>

	* gedit-file-selector-util.c (run_file_selector): check if data != NULL

2002-05-23  Paolo Maggi <maggi@athena.polito.it>

	* gedit-view.c: added Undo and Redo to the popup menu
	(gedit_view_init): connected the populate-popup signal and removed
	old commented code
	(gedit_view_undo_activate_callback)(gedit_view_redo_activate_callback)
	(gedit_view_populate_popup): new static functions

	Note that since I'm using stock menu items, I'm not breaking the 
	string freeze

2002-05-22  Paolo Maggi <maggi@athena.polito.it>

	* bonobo-mdi.c (app_close_book)(book_motion)(book_button_press)
	(book_button_release): return gboolean instead of gint
	(toplevel_focus): always returns FALSE (this fixes bug #77735)

	* gedit-view.c (gedit_view_grab_focus): removed the ack to fix
	bug #77735

	Thanks to Yogeesh MB, Federico Mena Quintero and Owen Taylor for
	their help in fixing this bug

2002-05-22  Paolo Maggi <maggi@athena.polito.it>

	* gedit-utils.c (remove_timeout_cb): set current_mi to NULL to
	fix a crash

2002-05-21  Paolo Maggi <maggi@athena.polito.it>

	Fixed bug #79205 removing the "Show Tooltips" menu item

	Modified files: gedit-ui.xml, gedit-mdi.c and gedit-prefs.[ch]

2002-05-21  Yogeesh MB  <yogeeshappa.mathighatta@wipro.com>

	* gedit-view.c (gedit_view_grab_focus): Fixed bug #77735 
	both on Solaris and Linux

2002-05-21  Federico Mena Quintero  <federico@ximian.com>
 
 	* gedit-view.c (gedit_view_init): Do not set a focus chain.  I
 	don't see how this could affect things for this bug, but it is
 	intended to fix #77735 anyways.

2002-05-21  Paolo Maggi <maggi@athena.polito.it>

	* gedit-file.c (gedit_file_save): convert filename to
	utf8 before inserting it in the list of recent files

2002-05-20  Paolo Maggi <maggi@athena.polito.it>

	Fixed bug #81878

	gedit-file-selector-util.c (run_file_selector): set 
	using_bonobo_filesel to TRUE only if dialog != NULL

	gedit-file.c: added the gedit_default_path variable
	(gedit_file_open): use and update gedit_default_path
	(gedit_file_save_as): ditto

	gnome-vfs-helpers.[ch] (gnome_vfs_x_uri_get_dirname):
	new function

2002-05-20  Paolo Maggi <maggi@athena.polito.it>
	
	gedit-ui.xml: s/About.../About
		
2002-05-15  Paolo Maggi <maggi@athena.polito.it>

	* gedit-file.c (gedit_file_save): insert a canonical uri
	in the recent list (this should fix bug #76641)

2002-05-14  Paolo Maggi <maggi@athena.polito.it>

	Added basic session management (thanks to Federico Mena Quintero
	for his initial patch and his help)

	* gedit-session.[ch], bonobo-mdi-session.[ch]: new files

	* Makefile.am: added the new files to gedit_SOURCES

	* gedit-debug.[ch]: added support for debugging session
	management related stuffs

	* gedit-document.[ch]  (gedit_document_get_raw_uri): new function

	* gedit-mdi-child.c (gedit_mdi_child_get_config_string): new function
	(implementation of the virtual function get_config_string)

	* gedit2.c (main): almost rewritten to add SM support

2002-05-14  Paolo Maggi <maggi@athena.polito.it>

	* gedit-ui.xml: added accellerator to help menu items
	(thanks to Glynn Foster)

2002-05-14  Paolo Maggi <maggi@athena.polito.it>

	gedit-file.c: Fixed bug #77834

	gedit-document.c (gedit_document_get_uri)
	(gedit_document_get_short_name): always return valid 
	UTF-8 text
	
2002-05-10  Paolo Maggi <maggi@athena.polito.it>

	* gedit-print.c: fixed bug #79733, now the default
	is to print to a printer

2002-05-09  Paolo Maggi <maggi@athena.polito.it>

	* gedit-print.c: changed the print dialog title
	to "Print"

2002-05-07  Paolo Maggi <maggi@athena.polito.it>

	* gedit-file-selector-util.c: use a quark to
	store retval (user_data_id)

2002-05-06  Paolo Maggi <maggi@athena.polito.it>

	* gedit-mdi.c: set main window role

2002-05-06  Paolo Maggi <maggi@athena.polito.it>

	* gedit-document.c: fixed bug #80841 
	(Thanks to Mats-Ola Persson)

2002-05-03  Federico Mena Quintero  <federico@ximian.com>

	* gedit-document.c (gedit_document_save_as_real): Do saving in
	the following way:

		1. Get the real filename by following all the symlinks of
		   the original filename.  This is the icky function
		   follow_symlinks().

		2. Write a temporary filename with the buffer contents.

		3. If create_backup_copy, rename the real_filename to
		   real_filename.bak.

		4. Rename the temporary filename to the real_filename.

		5. Restore file permissions and ownership.

	  It is sad that yes, the Unix API is complete and lets us do
	  this, but we must still write a bunch of code to *save a stupid
	  file*.

2002-04-30  jacob berkman  <jacob@ximian.com>

	* Makefile.am (EXTRA_DIST): add gnome-recent-marshal.list

2002-04-30  Federico Mena Quintero  <federico@ximian.com>

	* dialogs/gedit-dialog-replace.c
	(replace_dlg_replace_button_pressed): Do not pass null arguments
	for printf() formats to gedit_debug(); this will crash on
	non-glibc systems.  Should fix #78011.

2002-04-30  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-ui.xml: added an icon to Help->Contents

2002-04-29  Miles Lane  <miles@megapathdsl.net>

	* Add "#include <string.h>" to gnome-recent-util.c in order
	  to fix the build.  Instructed to do so by Chema.  :)

2002-04-29  James Willcox  <jwillcox@cs.indiana.edu>

	* Makefile.am:  Added a bunch of new stuff for gnome-recent (recent
	files code)
	* gnome-recent-model.[ch], gnome-recent-view.[ch],
	gnome-recent-view-bonobo.[ch], gnome-recent-util.[ch],
	gnome-recent-marshal.list:
	All new files, replaces the old recent files system with a new
	model-view system.
	* gedit-file.c (gedit_file_open_recent):  Small changes to cope with
	gnome-recent stuff
	* gedit-mdi.c: ditto
	* gedit-recent.[ch]:  Essentially, these are new, even though they
	existed before.  This is just an accessor for the gnome-recent
	model now.

	All of this stuff should fix bug #76641 (problems when FAM isn't
	available).

2002-04-23  Federico Mena Quintero  <federico@ximian.com>

	* gedit-document.c (gedit_document_save_as_real): Properly handle
	file permissions.  Fixes bug #76196 (patch approved by Chema
	Celorio).

2002-04-22  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-view.[ch] (gedit_view_set_font)(gedit_view_set_colors):
	added the def parameter

	* gedit-mdi.c (gedit_mdi_update_ui_according_to_preferences):
	removed unused code and fixed bug #76407

2002-04-20  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-preferences-dialog.c: fixed bug #79277

2002-04-20  Abel Cheung  <maddog@linux.org.hk>

	* gedit-commands.c: Added translator_credits.

2002-04-18  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-ui.xml:  Change the shortcut for the plugin manager to be "M"
	instead of "P" (which conflicted with the shortcut for "Paste")

2002-04-17  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-menus.[ch] (gedit_menus_add_menu_item_toggle): new function
	(gedit_menus_add_menu_item_toggle_all): ditto
	
2002-04-17  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-preferences-dialog.c: fixed bug #78856 (I hope!)

2002-04-16  Hema Seetharamaiah <hema.seetharamaiah@wipro.com>

	* Accessibility Changes. Mainly setting up of relations, Accessible name/descriptions.
	  Files affected :
	  - gedit-utils.c
	  - gedit-utils.h
	  - dialogs/gedit-preferences-dialog.c
	  - dialogs/gedit-preferences.glade2
	  - dialogs/plugin-manager.glade2
	  - dialogs/replace.glade2
	  - dialogs/goto-line.glade2
	  - dialogs/program-location-dialog.glade2
	  - dialogs/uri.glade2

2002-04-15  Kjartan Maraas  <kmaraas@gnome.org>

	* dialogs/gedit-dialog-plugin-manager.c: #include <config.h>
	* dialogs/gedit-dialog-replace.c: Same.
	* dialogs/gedit-dialog-uri.c: Same and mark a string for translation.
	The preferences dialog still isn't working with localization though :(

2002-04-03  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-ui.xml: Fixed bug #77404

	* dialogs/gedit-preferences.glade2: Fixed bugs #77403
	and #77401

2002-04-02  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-ui.xml: Fixed bug #76763
	
	* dialogs/gedit-preferences-dialog.c: Fixed point 5 
	of bug #76500

2002-03-28  Abel Cheung  <maddog@linux.org.hk>

	* gedit-ui.xml: Fix typo.

2002-03-27  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/*.glade2: fixed bug #76341

2002-03-22  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-utils.h: added g_uft8_caselessnmatch function

	* gedit-document.c:
	* gedit-utils.c:
	* dialogs/gedit-dialog-replace.c: fixed bug #75869

	* dialogs/gnome-print-font-dialog.c (gfsd_modify_preview_phrase):
	prototype changed to return void.

2002-03-19  James Willcox  <jwillcox@cs.indiana.edu>

	* dialogs/gnome-print-font-dialog.c (gfsd_modify_preview_phrase):
	return NULL, otherwise build fails.

2002-03-18  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-ui.xml: fix bug #75085

	* gedit-view.c (gedit_view_grab_focus): fix 
	bug #75112

2002-03-18  Paolo Maggi  <maggi@athena.polito.it>

	* bonobo-mdi-child.c: cleaned
	* bonobo-mdi.c: cleaned
	* bonobo-mdi.h: cleaned
	* gedit-mdi-child.c: cleaned
	* gedit-mdi.c: cleaned
	* gedit-view.c: cleaned
	* gedit-file.c: cleaned

	* dialogs/Makefile.am: added gnome-print-font-picker.c,
	gnome-print-font-picker.h, gnome-print-font-dialog.c,
	gnome-print-font-dialog.h

	* dialogs/gnome-print-font-picker.c: new file
	* dialogs/gnome-print-font-picker.h: new file
	* dialogs/gnome-print-font-dialog.c: new file
	* dialogs/gnome-print-font-dialog.h: new file

	* dialogs/gedit-preferences-dialog.c: added
	the Print/Fonts page (needed to fix bug #71364)
	* dialogs/gedit-preferences.glade2: ditto
	
2002-03-15  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-preferences-dialog.c:
	* dialogs/gedit-preferences.glade2: added a print font page

2002-03-12  Kjartan Maraas  <kmaraas@gnome.org>

	* gedit-utils.c: Fix some strings to be consistent wrt ´.ª and throw
	in some spaces where needed.
	
2002-03-07  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-plugin.c: new file

	* gedit-plugin.h: declare gedit_plugin_locate_program

	* Makefile.am (gedit_SOURCES): add gedit-plugin.c

	* gedit-commands.c: fix bug #71841 

	* dialogs/gedit-dialog-plugin-manager.c: ditto

	* dialogs/gedit-dialog-uri.c: ditto

	* dialogs/gedit-plugin-program-location-dialog.c: ditto

2002-03-06  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-prefs.[ch]: added new max_recents pref

	* gedit-mdi.c (gedit_mdi_app_created_handler):
	use gedit_setting->max_recent

	*gedit-recent.c: 
	#define GEDIT_RECENT_BASE_KEY "/apps/gedit-2/recent-files"

2002-03-05  Paolo Maggi  <maggi@athena.polito.it>

	* Makefile.am: #defined DATADIR

	* gedit2.c (main): set GNOME_PARAM_APP_DATADIR in gnome_program_init

2002-03-04  Kjartan Maraas  <kmaraas@gnome.org>

	* gedit-utils (gedit_utils_error_reporting_loading_file): Fix a typo.
	
2002-03-04  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-recent.c (gedit_recent_update_menus): more mem leak cleanup

2002-03-04  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-recent.c
	(gedit_recent_g_slist_deep_free): Remove warning spew.
	Changed the base gconf key to be in a more correct place.

2002-03-04  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-recent.c
	(gedit_recent_monitor_uri): Fixed mem leak.
	(gedit_recent_add): Ditto.

2002-03-04  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-mdi.c (gedit_mdi_set_app_statusbar_style):
	now the resize_grip really works

	* gedit-ui.xml: fixed for resize_grip

	* gedit-file.c (gedit_file_open_single_uri): open
	the new document in the active_child if this one
	is untouched
	(gedit_file_open_recent): don't try to grab focus
	if no active view exists

2002-02-28  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-recent.c (gedit_recent_menu_cb):  Don't free the menu data
	(this fixes a crash).  Other misc. cleanup.

2002-02-28  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/replace.glade2: removed requires lib="gnome" 

	* gedit-utils.c: fixed bug #72953

	* gedit-undo-manager.c: mem leak fixed

2002-02-27  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-recent.c (gedit_recent_menu_cb): Don't add the URI to the
	list.  Also added debugging messages.

2002-02-27  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-recent.c (gedit_recent_notify_cb): Check whether there is
	a BonoboUIComponent
	* gedit-mdi.c (gedit_mdi_get_recent_from_window): Do better error
	checking.

2002-02-27  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c (gedit_document_save_as_real):
	fixed bug #67037

2002-02-26  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-recent.[ch]:  Completely replaced by new code.  This will
	make its way into a library somewhere soon.
	* gedit-mdi.[ch]:  Made to use the new gedit-recent.
	* gedit-file.c:  Ditto

2002-02-25  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-preferences-dialog.c
	(gedit_preferences_dialog_auto_save_checkbutton_toggled):
	new function
	(gedit_preferences_dialog_setup_save_page): connect "toggled"
	signal of the auto save checkbutton

2002-02-25  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.[ch] (gedit_cmd_help_contents): new 
	function

	* gedit-menus.[c]: added HelpContents to gedit_verbs 

2002-02-23  Kjartan Maraas  <kmaraas@gnome.org>

	* gedit2.c: Remove unsupported #ifdef ENABLE_NLS stuff.
	
2002-02-23  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-utils.c (gedit_utils_error_reporting_reverting_file):
	report more helpful error messages
 
2002-02-23  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-utils.[ch](gedit_utils_error_reporting_loading_file)
	(gedit_utils_error_reporting_saving_file)
	(gedit_utils_error_reporting_reverting_file): new functions

	* gedit-file.c: use the new functions to report errors

	* gedit-document.c (gedit_document_save_as_real): better
	error reporting

2002-02-22  Federico Mena Quintero  <federico@ximian.com>

	* bonobo-mdi.c: Replace gtk_object_*  with the new
	GObject calls.
	* gedit-mdi.c: Likewise.

2002-02-22  Paolo Maggi  <maggi@athena.polito.it>

	gedit-ui.xml: In menus, all the words (except 'and') should start 
	with a capital letter (That's just the convention for menus)

2002-02-22  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-mdi.[ch](gedit_mdi_clear_active_window_statusbar):
	new function

	* gedit-file.c (gedit_file_close): call 
	gedit_mdi_clear_active_window_statusbar	
	(gedit_file_close_all): ditto

	* gedit-document.c (gedit_document_get_untitled_number)
	(gedit_document_release_untitled_number): new function
	Now the untitled numbers are assigned in a smarter way

2002-02-22  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-file.c (gedit_file_new): active view  grabs focus 
	(gedit_file_open_recent): ditto

	* gedit-view.c (gedit_view_finalize): removed really broken
	code I really don't know why I wrote

	* dialogs/plugin-manager.glade2: added support for long text
	in the notebook pages

2002-02-21  Paolo Maggi  <maggi@athena.polito.it>

	Name changed: gedit2->gedit

	* gedit-ui.xml: removed Tools menu

2002-02-21  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-mdi.c: continuing fix bug #71940
	* gedit-ui.xml: ditto
	* dialogs/gedit-preferences-dialog.c: get rid of user interface
	related pages (Toolbar and Status bar)

2002-02-20  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-file.c: fix bug #71940
	* gedit-mdi.c: ditto

2002-02-20  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-preferences-dialog.c: fix bug #71940

2002-02-18  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-ui.xml: rewritten to be HIG compliance (bug #71850)
	I asked the release team's permission before committing and breaking
	the UI freeze ;)
	View menu still does not work.

2002-02-18  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-undo-manager.c (gedit_undo_manager_merge_action): fixed
	bug #71830

2002-02-14  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-dialog-plugin-manager.c 
	(dialog_plugin_manager_get_selected_plugin): rewritten
	
2002-02-13  Kjartan Maraas  <kmaraas@gnome.org>

	* bonobo-mdi.c: #include <config.h> for proper i18n.
	* gedit-document.c: Same here.
	* gedit-file.c: Same.
	* gedit-file-selector-util.c: Same.
	* gedit-plugins-engine.c: Same
	* gedit-print.c: Same.
	* gedit-view.c: Same
						
2002-02-13  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-undo-manager.c: now it should work well also with
	non-ASCII chars

2002-02-12  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-ui.xml: added EditOps_5 placeholder

	* dialogs/gedit-dialog-plugin-manager.c 
	(dialog_plugin_manager_construct_tree): unref model

	* dialogs/gedit-preferences-dialog.c (finalize): unref tree model

	* dialogs/plugin-manager.glade2: fixed scrolling bug

2002-02-08  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.[ch] (gedit_document_save_a_copy_as): 
	new function

	* gedit2.[ch] (gedit_get_open_documents): new function

	* dialogs/Makefile.am: added gedit-plugin-program-location-dialog.c

	* gedit-plugin-program-location-dialog.c: new file

	* dialogs/gedit-dialogs.h (gedit_plugin_program_location_dialog):
	new function

	* dialogs/program-location-dialog.glade2: new file

2002-02-07  Federico Mena Quintero  <federico@ximian.com>

	* gedit2.c (main): Do not call setlocale().  We should not be
	forcing the locale on anyone.

2002-02-07  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.[ch] (gedit_document_get_cursor)
	(gedit_document_set_cursor): new functions
	
2002-02-06  Paolo Maggi  <maggi@athena.polito.it>

	* gedit_mdi.c (gedit_mdi_update_ui_according_to_preferences):
	fix mem leak

	* gedit-plugins-engine.c (gedit_plugins_engine_save_settings):
	ditto

	* dialogs/gedit-dialog-plugin-manager.c 
	(dialog_plugin_manager_get_selected_plugin):ditto

	* dialogs/gedit-preferences-dialog.c: warning cleans.

2002-02-06  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-view.c (gedit_view_set_tab_size): 
	now it works
	(gedit_view_calculate_real_tab_width): new static 
	function
	(gedit_view_new): set tab size

	* gedit_mdi.c (gedit_mdi_update_ui_according_to_preferences):
	set tab size for each view

	* dialogs/gedit-preferences-dialog: show the tab page
	(gedit_preferences_dialog_update_settings): get tab size from
	the tab page
	
2002-02-06  Paolo Maggi  <maggi@athena.polito.it>

	* Makefile.am: define G*_DEPRECATED 
	in INCLUDES

	* *.c: fix to compile with G*_DEPRECATED
 
2002-02-05  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/Makefile.am: define G*_DEPRECATED 
	in INCLUDES

	* dialogs/gedit-dialog-goto-line.c:
	* dialogs/gedit-dialog-plugin-manager.c:
	* dialogs/gedit-dialog-replace.c:
	* dialogs/gedit-preferences-dialog.c: fix to compile
	with G*_DEPRECATED
	
2002-02-05  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-file-selector-util.c: removed unused code
	
	* gedit-debug.c:
	* gedit-debug.h:
	* gedit-document.c:
	* gedit-document.h:
	* gedit-file.c:
	* gedit-plugins-engine.c:
	* gedit-plugins-engine.h:
	* gedit-prefs.c:
	* gedit-prefs.h:
	* gedit-print.c:
	* gedit-recent.c:
	* gedit-undo-manager.c:
	* gedit-utils.c:
	* gedit2.c:
	* gedit2.h:
	* dialogs/gedit-preferences-dialog.c: warning cleans.

2002-01-29  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-utils.c (remove_message_timeout): re-write not
	using bonobo_ui_engine
	(bonobo_window_flash): ditto

2002-01-29  Michael Meeks  <michael@ximian.com>

	* gedit-mdi.c: re-write not using bonobo_ui_engine
	this was wrong.

	* *.[ch]: warning cleans.

2002-01-26  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-menus.[ch]:
	(gedit_menus_[add/remove]_menu_item,
	 gedit_menus_[add/remove]_menu_item_all):
	new functions, make it easier for plugins to add menus to
	toplevel windows.

2002-01-24  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.[ch] (gedit_document_get_selected_text): now
	take two new paramters: start and end
	(gedit_document_get_line_at_offset): new function

	* gedit-print.c (gedit_print_document): print the right start
	line number when printing selections

	* dialogs/plugin-manager.glade2: cosmetic changes

2002-01-23  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (gedit_commands_about_cmd): fixed the
	about box

	* gedit-document.c (gedit_document_set_readonly):
	removed unused code

	* gedit-file.c (gedit_file_exit): save plugins settings
	before exiting

	* gedit-plugins-engine.c: now it saves the plugins settings

2002-01-23  James Willcox  <jwillcox@cs.indiana.edu>

	* dialogs/plugin-manager.glade2:  Added GtkLabels in the "Details"
	notebook page for plugin name and copyright.
	
	* dialogs/gedit-dialog-plugin-manager.c
	(dialog_plugin_manager_update_info):  Update the plugin name and
	copyright information, along with some other small tweaks.
	(row_activated):  Changed the behavior to toggle the "active" state
	of the plugin, instead of configuring it.


2002-01-22  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-file.c:  Fixed a bug where after opening one of the recent
	documents, garbage would appear on the status bar.  This was caused
	by gedit_recent_add() freeing the uri before we were done with it.

	* gedit-mdi.c:  Fixed calls to bonobo_ui_engine_xml_set_prop (it
	previously would not compile).
	* gedit-menus.c:  ditto

2002-01-22  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-view.c (gedit_view_doc_readonly_changed_handler):
	new static function
	(gedit_view_new): connect to the readonly_changed signal
	from doc

	* gedit-document.c (gedit_document_set_readonly):
	commented code to set not_editable tag. It is no more
	needed

2002-01-22  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-plugins-engine.[ch] (gedit_plugins_engine_configure_plugin):
	new function

	* dialogs/gedit-dialog-plugin-manager.c: now use
	gedit_plugins_engine_configure_plugin

2002-01-22  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (gedit_cmd_help_about): added James to
	authors

2002-01-21  James Willcox <jwillcox@cs.indiana.edu>

	* dialogs/gedit-dialog-plugin-manager.c: Implemented the plugin
	manager.

	* dialogs/plugin-manager.glade2: UI for the plugin manager.


2002-01-21  Marcel K. de Carli Silva <magaljedi@bol.com.br>

	* gedit2.c (main): check if args != NULL only one time
	(options): use POPT_ARG_NONE to indicate no argument

	* gedit-prefs.c (gedit_prefs_save_color): new functio
	(gedit_prefs_load_color): ditto
	(gedit_prefs_save_settings): use gedit_prefs_save_color
	(gedit_prefs_load_settings): use gedit_prefs_load_color

2002-01-20  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-plugins-engine.c (gedit_plugins_engine_load):
	load "configure", "save_settings", "update_ui" and "destroy"
	symbols

2002-01-18  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-mdi.c: update plugins UI when needed

	* gedit-plugin.h: cleaned a bit

	* gedit-plugins-engine.[ch]: implemented the plugin engine

	* gedit2.c (main): initialize the plugin engine
	
2002-01-18  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c:  Fixed some little problems
	with auto-save

	* gedit2.c: removed plugin initialization

2002-01-17  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-document.c:  Added support for auto-save.
	(gedit_document_auto_save_timeout): New function
	(gedit_document_auto_save): ditto
	(gedit_document_save): reset auto save timer (if needed)
	(gedit_document_load): start auto save timer (if needed)
	(gedit_document_finalize): remove auto save timer

	* dialogs/gedit-preferences.glade2: made the auto save widgets
	sensitive.

2002-01-17  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.[ch] (gedit_document_insert_text_at_cursor):
	new function

	* gedit2.[ch] (gedit_get_top_windows): new function
	(gedit_get_ui_component_from_window): ditto

	* gedit-ui.xml: added a lot of new placeholders

2002-01-16  Paolo Maggi  <maggi@athena.polito.it>

	* Makefile.am: defined GEDIT_LOCALEDIR

	[Added a +<lnum> option (like vi)] Thanks to James Willcox 
	for his work on it

	[Started implemetation of plugin support]

	* gedit-plugin.h: new file

	* gedit-plugins-engine.[ch]: ditto

	[Fixed some bug with notebook labels in bonobo-mdi]
	
2002-01-15  Paolo Maggi  <maggi@athena.polito.it>
	
	* gedit-utils.h (gedit_text_iter_forward_search): new prototype

	* gedit-utils.c (gedit_text_iter_forward_search): new experimental
	function to perform case insensitive search (beside normal case
	sensitive search)
	(g_utf8_strcasestr): new private function
	(g_uft8_caselessnmatch): ditto
	(forward_chars_with_skipping): ditto
	(lines_match): ditto
	(strbreakup): ditto

	* gedit-document.c (gedit_document_find): enabled support for
	case insensitive search. Use the new gedit_text_iter_forward_search

	* dialogs/gedit-dialog-replace.c: enabled support for case insensitive
	search

2002-01-14  James Willcox <jwillcox@cs.indiana.edu>

	* dialogs/gedit-dialog-replace.c:  Made one small change
	in the wording of the search error message.  (The consensus is
	that the word "string" shouldn't appear in an error message).

	* dialogs/gedit-preferences.glade2:  More string fixes.

2002-01-14  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c (gedit_document_load): add some debug
	message

	* gnome-vfs-helpers.c (gnome_vfs_x_read_entire_file): hack to
	fix a bug when loading ftp files

	* gedit-ui.xml: hide debug menu 
	
2002-01-13  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-prefs.c: save and load window size
	(gedit_prefs_configure_event_handler): new function
	
	* gedit-pref.h (gedit_prefs_configure_event_handler): 
	new prototype

	* gedit-mdi.c (gedit_mdi_app_created_handler): connect the
	"configure_event" signal of the created window to 
	gedit_prefs_configure_event_handler to track window size
  
2002-01-12  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-prefs.[ch]:
	* gedit-mdi.c:
	* gedit-view.[ch]:
	* dialogs/gedit-preferences-dialog.c:
	* dialogs/gedit-preferences-dialog.glade: 

	[Add current cursor position and overwrite
	mode on statusbar. Enjoy it - It is too late
	and I'm too lame to write a more detailed
	Change Log entry]

2002-01-11  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-view.c: now it can display line numbers
	(gedit_view_show_line_numbers): new function
	(gedit_view_get_lines): ditto
	(gedit_view_line_numbers_expose): ditto

	* gedit-view.h (gedit_view_show_line_numbers): new prototype
	
	* gedit-mdi.c (gedit_mdi_update_ui_according_to_preferences): call 
	gedit_view_show_line_numbers

	* gedit-prefs.[ch]: added the show_line_numbers setting

	* dialogs/gedit-preferences-dialog.c : added a line numbers page

	* dialogs/gedit-preferences-dialog.glade2: ditto

	* dialogs/gedit-dialog-goto-line.c (goto_button_pressed): go to the 
	right line number

2002-01-11  Paolo Maggi  <maggi@athena.polito.it>

	* gedit2.[ch]: added flags gedit_close_x_button_pressed and
	gedit_exit_button_pressed 

	* gedit-commands.c (gedit_cmd_file_close): update 
	gedit_close_x_button_pressed
	(gedit_cmd_file_close_all): ditto
	(gedit_cmd_file_exit): update gedit_exit_button_pressed

	* gedit-utils.[ch] (gedit_dialog_add_button): new function

	* gedit-file-selector-util.c (replace_existing_file): use new
	gedit_dialog_add_button function

	* gedit-prefs.h: cleaned

	* gedit-recent.c: renamed some functions (now all the function
	as the gedit prefix)

	* gedit-file.c: finished porting to the new gedit-file-selector API
	(gedit_file_save_as_real): new function
	(gedit_file_save_as_ok_button_clicked_handler): call 
	gedit_file_save_as_real

2002-01-10  Jason Leach  <jasonleach@usa.net>

	[Use gconf to store recent documents opened]

	* gedit-recent.c (gedit_recent_history_save): Renamed from
	gedit_recent_history_write_config.

	* gedit-recent.c (recent_history_get_list): Use gconf in place of
	gnome_config.
	(recent_history_update_list): Ditto.

2002-01-10  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-ui.xml: Exit button removed from toolbar

	* gedit-mdi.c (gedit_mdi_set_app_toolbar_style): really check
	system settings

	* gedit-commands.c (gedit_cmd_help_about): cosmetic changes

2002-01-09  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-utils.[ch] (gedit_button_new_with_stock_image): new function

	* dialogs/gedit-dialog-goto-line.c: now the goto line dialog is modal

	* dialogs/gedit-dialog-replace.c (dialog_replace_get_dialog): use the 
	new gedit_button_new_with_stock_image function to set an image for
	the replace button

2002-01-08  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-file-selector-util.[ch]: new files

	* gedit-file.c (gedit_file_open): use gedit_file_selector_open

	* gedit-undo-manager.c: fixed some UTF-8 related problem

	* gedit-document.c (gedit_document_save_as_real): save using locale
	encoding if requested

2002-01-07  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-print.c (gedit_print_create_new_page):  new static function
	(gedit_print_end_page): ditto
	(gedit_print_paragraph): use gedit_print_create_new_page and 
	gedit_print_end_page to create new pages
	(gedit_print_document): ditto

2002-01-07  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-print.c: now, it is possible to print line numbers
	(there are still some little issues to solve)
	(gedit_print_line): new static function

2002-01-05  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.h (gedit_document_has_selected_text): return FALSE
	if doc is not a GeditDocument

	* gedit-file.c (gedit_file_open_uri_list): fixed a compiler warning

	* gedit-prefs.c: load and save preferences for printing support
	(now they have new names)

	* gedit-print.c: use new preferences names

	* dialogs/gedit-preferences-dialog.c: the Print/Page page now 
	operates on the preferences

2002-01-04  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (gedit_cmd_file_print_preview): uncommented

	* gedit-prefs.[ch]: added some preferences for printing support
	
	* gedit-print.c: refinements here and there

 	* dialogs/gedit-preferences-dialog.c: added a Print/Page page

	* dialogs/gedit-preferences.glade2: ditto


2002-01-04  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-print.c (gedit_print_get_next_line_to_print_delimiter): 
	little improvement in precision. It is still not so precise as I would
	like

2002-01-03  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c (gedit_document_save_as_real): create
	a backup copy of the file before saving
	(gedit_document_has_selected_text): new function
	
	* gedit-document.h (gedit_document_has_selected_text): new 
	prototype

	* gedit-prefs.[ch]: preferences for printing support added

	* gedit-print.c: rewritten, now gedit2 has a basic printing
	support

	* dialog/gedit-preferences-dialog.c: added a Save page

	* dialogs/gedit-preferences.glade2: ditto

2001-12-29  Paolo Maggi  <maggi@athena.polito.it>
	
	* gedit-prefs.[ch]: rewritten

	* gedit-mdi.c: use new preference names
	
	* gedit-undo-manager.c: ditto

	* gedit-view.c: ditto
     
	* dialogs/gedit-preferences-dialog.c: ditto

2001-12-19  Paolo Maggi  <maggi@athena.polito.it>

	* bonobo-mdi.c (bonobo_mdi_init_instance): force tab position to be top

	* gedit-mdi.c (gedit_mdi_init): ditto
	
	* gedit-document.c: fixed some bugs when dealing with readonly docs
	
2001-12-17  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (gedit_cmd_search_replace): call gedit_dialog_replace ()

	* gedit-document.c: added last_replace_text and last_search_was_case_sensitive
	fields to GeditDocumentPrivate
	(gedit_document_finalize): free last_replace_text
	(gedit_document_get_short_name): return the right value when  doc->priv->uri != NULL
	(gedit_document_begin_user_action): new public function
	(gedit_document_end_user_action): ditto
	(gedit_document_get_last_searched_text): call gedit_debug
	(gedit_document_get_last_replace_text): new public function
	(gedit_document_find): cleaned
	(gedit_document_get_selected_text): new public function
	(gedit_document_replace_selected_text): ditto
	(gedit_document_replace_all): ditto

	* gedit-document.h: added prototypes for new public functions (see gedit-document.c log)
	
	* dialogs/gedit-dialog-replace.c: added support for replace; find and replace dialog are no more
	modal

	Thanks to snorp (James Willcox  <jwillcox@cs.indiana.edu>) for his
	help in implementing find and replace.
	
2001-12-14  Gediminas Paulauskas <menesis@delfi.lt>

	* gedit-marshal.list: added this file with one marshaller, which
	previously was in libgnome.

	* Makefile.am: generate, use, and dist gedit-marshal.*

	* bonobo-mdi.c: replace gnome_marshal with gedit_marshal

2001-12-12  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (TO_BE_IMPLEMENTED: set OK button as default 
	(gedit_cmd_search_find_again): set OK button as default in the GtkMessageDialog 
	(gedit_cmd_settings_preferences): added alert dialog

	* gedit-file.c: set OK button as default in all the alert dialogs
	(gedit_file_close_all): update UI items sensitivity

	* gedit-mdi.c (gedit_mdi_set_active_window_verbs_sensitivity): behave
	gently when active_window == NULL

	* gedit-prefs.c: write and read GEDIT_BASE_KEY GEDIT_PREF_WRAP_MODE and
        GEDIT_BASE_KEY GEDIT_PREF_TOOLBAR_LABELS as int

	* dialogs/gedit-preferences-dialog.c (gedit_preferences_dialog_update_settings):
	update font and colors settings even if the default ones are selected

2001-12-11  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (gedit_cmd_help_about): fixed

	* dialogs/gedit-preferences-dialog.c : Save page added (it still
        does nothing)

2001-12-11  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-prefs.c (gedit_prefs_save_settings): check if gconf_client != NULL
	(gedit_prefs_load_settings): ditto
	(gedit_prefs_init): ditto

	* bonobo-mdi.c: calls to g_print removed

2001-12-10  James Willcox  <jwillcox@cs.indiana.edu>

	* gedit-prefs.c: Converted to use gconf.

2001-12-10  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-mdi.c (gedit_mdi_set_app_toolbar_style): icons->icon

2001-12-09  Paolo Maggi  <maggi@athena.polito.it>

	* bonobo-mdi.child.c (bonobo_mdi_child_instance_init): ref and sink mdi_child

	* bonobo-mdi.c (bonobo_mdi_instance_init): ref and sink mdi
	(book_motion)(book_button_press)(book_button_release): fix a bug related to
	GtkNotebook being NO_WINDOW
	(set_active_view): call gtk_widget_grab_focus on the view
	(bonobo_mdi_set_active_view): removed a call to gtk_widget_grab_focus

	* gedit-document.c (gedit_document_load): try to convert file contents to UTF8
	from current locale if the file contains invalid UTF8 data

	* gedit-file.c (gedit_file_exit): save prefs before unreffing gedit_mdi
	(gedit_file_open_uri_list): passes the active child to gedit_file_open_real

	* gedit-mdi-child.c (gedit_mdi_child_create_view): removed unused old code

	* gedit-mdi.c (gedit_mdi_update_ui_according_to_preferences): set selected 
	text colors
	(gedit_mdi_init): fix a leak
	
	* gedit-prefs.[ch]: added prefs for selected text colors

	* gedit-view.c (gedit_view_grab_focus): yeah, now we have a red blinking cursor
	(gedit_view_init)(gedit_view_set_colors): set selected text colors

	* dialogs/gedit-dialog-uri.c: ativate Open button when ENTER is pressed

	* dialogs/gedit-preferences-dialog.c: added support for selected text colors

2001-12-08  Abel Cheung  <maddog@linux.org.hk>

	* gedit-file.c: Fixed misspellings.

2001-12-03  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (TO_BE_IMPLEMENTED): new macro
	(gedit_cmd_file_print): marked as TO_BE_IMPLEMENTED
	(gedit_cmd_file_print_preview): marked as TO_BE_IMPLEMENTED
	(gedit_cmd_help_about): added a caveat
	(gedit_cmd_search_find_again): new function
	(gedit_cmd_search_replace): marked as TO_BE_IMPLEMENTED

	* gedit-commands.h (gedit_cmd_search_find_again): new prototype

	* gedit-document.c (gedit_document_get_last_searched_text): new function
	(gedit_document_find_again): new function

	* gedit-document.h (gedit_document_get_last_searched_text): new prototype
	(gedit_document_find_again): ditto

	* gedit-menus.c: added SearchFindAgain to gedit_verbs []

	* gedit-prefs.c: added #include "gedit2.h".
	(gedit_prefs_save_settings): save the active top level window size

	* dialogs/gedit-dialog-replace.c (gedit_dialog_find): remember the last
	searched text per document

2001-12-03  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c (gedit_document_find): when some text is selected and you
	want to search beginning from the cursor position, start searching
	from the end of the selection 

	* dialogs/gedit-dialog-replace.c: added beginning and cursor to _GeditDialogFind
	and _GeditDialogReplace
	(find_dlg_find_button_pressed): set active "search from cursor" radiobutton
	when needed

2001-12-02  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c: added last_searched_text to GeditDocumentPrivate
        (gedit_document_finalize): free last_searched_text
	(gedit_document_find): new function

	* gedit-document.h (gedit_document_find): new prototype

	* gedit-mdi.c (gedit_mdi_update_ui_according_to_preferences): set wrap mode too

	* gedit-prefs.h : word_wrap -> wrap_mode

	* gedit-prefs.c : #define DEFAULT_FONTSET removed. 
	Definition of DEFAULT_FONT changed, now the default font is Sans 12
	(gedit_prefs_save_settings): save wrap_mode
	(gedit_prefs_load_settings): use g_new0 to allocate settings. Load wrap_mode. 
	Fix a memory leak with font.

	* gedit-print.c : some experiment with libgnomeprintui-2.0. It is really broken :-(

	* gedit-ui.xml : hide Plugins and Debug menus

	* gedit-view.c (gedit_view_init): use the preferrend wrap_mode when a GeditView is
	created. Fixed a bug with colors and font preferences.
	(gedit_view_set_colors): rewritten to use gtk_widget_modify_base and 
	gtk_widget_modify_text
	(gedit_view_set_font): rewritten to use gtk_widget_modify_font
	(gedit_view_set_wrap_mode): new function
	(gedit_view_set_tab_size): new function. ATTN: it is broken

	* gedit-view.h: (gedit_view_set_wrap_mode): new prototype
	(gedit_view_set_tab_size): new prototype

	* dialogs/gedit-dialog-replace.c : gedit-mdi-child.h and gedit-debug.h #included
	(find_dlg_find_button_pressed): implemented
	(gedit_dialog_find): close correcly the find dlg

	* dialogs/gedit-preferences-dialog.c : wrap mode page added.
	Save and Tabs pages hidden. Paper and Page empty pages added.
	(gedit_preferences_dialog_setup_logo_page): new function
	(gedit_preferences_dialog_setup_wrap_mode_page): ditto
	(gedit_preferences_dialog_update_settings): read data from wrap mode page too.
	
	* gedit-preferences.glade2 : wrap mode page added.

2001-11-28  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (gedit_cmd_settings_preferences): now it really update gedit settings
	  (gedit_cmd_help_about): cleaned a bit

	* gedit-mdi.c (gedit_mdi_set_app_status_bar): removed
	  (gedit_mdi_set_app_statusbar_style): new functio
	  (gedit_mdi_set_app_toolbar_style): almost rewritten
	  (gedit_mdi_update_ui_according_to_preferences): new function

	* gedit-mdi.h (gedit_mdi_update_ui_according_to_preferences): new prototype

	* gedit-prefs.[ch]: removed some unused prefs

	* gedit-view.c (gedit_view_init): use the preferred colors and font when 
	  a GeditView is created
	  (gedit_view_set_colors): new function
	  (gedit_view_set_font): ditto

	* gedit-view.h (gedit_view_set_colors): new prototype
	  (gedit_view_set_font): ditto

	* dialogs/gedit-preferences-dialog.c: cleaned
          (gedit_preferences_dialog_update_settings): new function

2001-11-27  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-preferences-dialog.c: added Undo and Tabs pages, removed Save page.

	* dialogs/gedit-preferences.glade2: finished... I hope

2001-11-26  Paolo Maggi  <maggi@athena.polito.it>

	* Makefile.am: -DGEDIT_UI_DIR and -DGEDIT_GLADE_DIR added to INCLUDES,
	ui_DATA defined, added gedit-print.c and gedit-print.h to gedit2_SOURCES

	* bonobo-mdi.c (app_create): removed old commented code

	* gedit-commands.[ch] (gedit_cmd_file_print): new function
	  (gedit_cmd_file_print_preview): ditto
          (gedit_cmd_settings_preferences): ditto
	  
	* gedit-file.c	(gedit_file_save_as_ok_button_clicked_handler): typo

	* gedit-mdi.c (gedit_mdi_init): removed old commented code, search
	gedit-ui.xml in the rigth location

	* gedit-menus.c: added FilePrint, FilePrintPreview and SettingsPreferences to
	gedit_verbs []

	* gedit-prefs.[ch]: added two new preferences, i.e. use_default_font and use_default_colors

        * dialogs/Makefile.am: -DGEDIT_UI_DIR and -DGEDIT_GLADE_DIR added to INCLUDES,
	added gedit-preferences-dialog.[ch] to libdialogs_a_SOURCES

	* dialogs/gedit-dialog-goto-line.c (dialog_goto_line_get_dialog): search glade file in the rigth location

	* dialogs/gedit-dialog-uri.c (dialog_open_uri_get_dialog): ditto

	* dialogs/gedit-dialog-replace.c (dialog_replace_get_dialog): ditto
	  (gedit_dialog_replace): close window only when "replace all" or "close" button is pressed
	
	* gedit-print.[ch]
	* dialogs/gedit-preferences.glade2
	* dialogs/gedit-preferences-dialog.[ch]: new files


2001-11-23  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.[ch] (gedit_cmd_search_replace): new function 

	* gedit-menus.c: added SearchReplace to gedit_verbs []

	* dialogs/gedit-dialog-replace.c: almost rewritten 

	* dialogs/gedit-dialogs.h (gedit_dialog_replace): new prototype

2001-11-19  Paolo Maggi  <maggi@athena.polito.it>

	* bonobo-mdi.c: (bonobo_mdi_destroy) doesn't use GTK_OBJECT_DESTROYED anymore
	
	* gedit-document.[ch] (gedit_document_load_from_stdin): new function
	(gedit_document_begin_not_undoable_action): ditto
	(gedit_document_end_not_undoable_action): ditto

	* gedit-file.[ch] (gedit_file_open_from_stdin): new function
	
	* gedit-recent.c (gedit_recent_cb): check if active_child != NULL before
	casting to GEDIT_MDI_CHILD

	* gedit2.c (gedit_load_file_list): now calls gedit_file_open_from_stdin (NULL)

2001-11-16  Carlos Perell√≥ Mar√≠n <carlos@gnome-db.org>

	* gedit2.c: Added support to AM_GLIB_GNU_GETTEXT
	* gedit-recent.c, gedit-utils.c, gedit-document.c, gedit-file.c:
	Fixed the gnome-vfs-helpers.h include.

2001-11-16  Paolo Maggi   <maggi@athena.polito.it>

	* Started the port to GNOME 2.0

2001-11-16  Carlos Perell√≥ Mar√≠n <carlos@gnome-db.org>

	* ChangeLog: rolled over to ChangeLog-20011116.
